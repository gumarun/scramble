{% extends 'base.html' %}

<!-- Title -->
{% block title %}ログイン{% endblock %}

<!-- Head -->
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/form.css') }}">
{% endblock %}

<!-- Root Block Content -->
{% block root_content %}

<div class="form-container">
  <form method="POST" action="{{ url_for('main.login') }}" autocomplete="off" novalidate>

    <!-- Heading -->
    <h2 class="form-heading form-item">ログイン</h2>

    <!-- Flash Massage -->
    <div class="flash-message-box">
      {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
      <span class="flash-message {{ messages[0][0] }}">{{ messages[0][1] }}</span>
      {% endif %}
      {% endwith %}
    </div>

    <!-- Hidden Field -->
    {{ form.hidden_tag() }}

    <!-- User ID -->
    <div class="form-item">
      <div class="form-item-group">
        <span class="placeholder">ユーザーID</span>
        {{ form.user_id() }}
      </div>
      {% for error in form.user_id.errors %}
      <span class="error-text">{{ error }}</span>
      {% endfor %}
    </div>

    <!-- Password -->
    <div class="form-item">
      <div class="form-item-group">
        <span class="placeholder">パスワード</span>
        {{ form.password() }}
      </div>
      {% for error in form.password.errors %}
      <span class="error-text">{{ error }}</span>
      {% endfor %}
    </div>

    <!-- remember -->
    <div class="form-item remember-me">
      {{ form.remember_me(id=form.remember_me.id) }}
      <label for="{{ form.remember_me.id }}">次回から自動ログイン</label>
    </div>

    <!-- Submit -->
    <div class="form-item">
      <button class="submit" type="submit" class="btn-submit">
        {{ form.submit.label }}
      </button>
    </div>

  </form>
</div>
{% endblock %}<!-- root -->

{% block script %}
<script src="{{ url_for('static', filename='js/form.js') }}" defer></script>
{% endblock %}
